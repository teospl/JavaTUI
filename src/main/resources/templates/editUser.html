<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit User</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/common/bootstrap.min.css}"/>
    <script type="javascript" th:src="@{/js/jquery-3.1.0.min.js}"></script>
    <script type="javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <script type="javascript" th:src="@{/js/scripts.js}"></script>
</head>
<body>

<div th:replace="fragments/header :: 'top'"></div>

<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
            <form method="post" action="#" role="form" th:object="${data}" th:action="@{/user/edit(userId=${data.id})}" >
                <h2>Edit User details
                    <small th:text="#{register.info}"></small>
                </h2>
                <div class="form-group">
                    <input class="form-control" type="text" th:placeholder="#{register.first.name}"
                           th:field="*{firstName}" th:value="${firstName}"/>
                    <p class="text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></p>
                </div>

                <div class="form-group">
                    <input th:placeholder="#{register.last.name}" class="form-control" type="text" th:field="*{lastName}"/>
                    <p class="text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></p>
                </div>

                <div class="form-group">
                    <input class="form-control" type="text" th:placeholder="#{register.login.name}"
                           th:field="*{login}"/>
                    <p class="text-danger" th:if="${#fields.hasErrors('login')}" th:errors="*{login}"></p>
                </div>

                <div class="form-group">
                    <input th:placeholder="#{register.password.name}" class="form-control" type="text" th:field="*{password}"/>
                    <p class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
                </div>

                <div class="form-group">
                    <p class="text-danger" th:if="${#fields.hasErrors('role')}" th:errors="*{role}"></p>
                    <select th:placeholder="#{role}" class="form-control" type="text" th:field="*{role}">
                        <option th:each="current : ${roles}"
                                th:value="${current}"
                                th:text="${current}"></option>
                    </select>
                </div>


                <input class="btn" type="submit" value="submit"/>
                <a th:href="@{/user/delete(userId=${data.id})}">
                    <button type="button" class="btn btn-danger">
                        Usuń użytkownika
                    </button>
                </a>
            </form>

        </div>
    </div>

</div>
<div th:replace="fragments/footer :: 'footer'"></div>
</body>
</html>